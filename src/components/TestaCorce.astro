<div class="flex justify-center mt-10">
  <div class="card w-full max-w-md bg-base-100 shadow-xl">
    <div class="card-body text-center">

      <h2 class="card-title justify-center text-xl">
        ðŸª™ Lancia la Moneta
      </h2>
      
      <p class="text-base-content/70 mb-4">
        Premi il bottone per vedere se esce Testa o Croce
      </p>

      <!-- Risultato -->
      <div
        id="result"
        class="alert alert-info font-semibold text-lg justify-center mb-4"
      >
        Risultato: -
      </div>

      <!-- Bottone -->
      <div class="card-actions justify-center mb-4">
        <button
          id="toss-button"
          class="btn btn-primary btn-wide"
        >
          Lancia la Moneta
        </button>
      </div>

      <!-- Storia dei lanci -->
      <div class="collapse collapse-arrow bg-base-200">
        <input type="checkbox" />
        <div class="collapse-title font-medium">
          ðŸ“œ Storia dei Lanci
        </div>
        <div class="collapse-content">
          <ul id="history-list" class="list-disc list-inside"></ul>
        </div>
      </div>

    </div>
  </div>
</div>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    const tossButton: HTMLButtonElement | null = document.getElementById(
      "toss-button"
    ) as HTMLButtonElement;
    const resultDisplay: HTMLElement | null = document.getElementById("result");
    const historyList: HTMLElement | null =
      document.getElementById("history-list");

    let history: string[] = [];

    tossButton?.addEventListener("click", () => {
      const result: string = Math.random() < 0.5 ? "Testa" : "Croce";

      if (resultDisplay) {
        resultDisplay.textContent = `Risultato: ${result}`;
      }

      history.push(result);

      // Aggiorna la lista della storia
      const historyItem: HTMLLIElement = document.createElement("li");
      historyItem.textContent = result;
      historyList?.appendChild(historyItem);
    });
  });
</script>
